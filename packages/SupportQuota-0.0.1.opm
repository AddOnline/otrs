<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>SupportQuota</Name>
    <Version>0.0.1</Version>
    <Vendor>Deny Dias</Vendor>
    <URL>http://mexapi.macpress.com/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
    <ChangeLog Date="2014-07-12 19:09:21" Version="0.0.1">Initial release.</ChangeLog>
    <Description Lang="en">Add support to work unit quotas by customer company and displays the quotas in TicketZoom.</Description>
    <Description Lang="pt_BR">Adiciona suporte a cotas de unidades de trabalho por empresa cliente e mostra as cotas em TicketZoom.</Description>
    <Framework>3.3.x</Framework>
    <IntroInstall Lang="en" Title="Thank you!" Type="post">Don't forget to edit your Kernel/Config.pm to add the 'Quota' field to 'AdminCustomerCompany'. See Kernel/Config.pm.quota.patch for an example. Thank you for install the Support Quota module.</IntroInstall>
    <IntroInstall Lang="pt_BR" Title="Obrigado!" Type="post">Não deixe de alterar o seu Kernel/Config.pm para incluir o campo 'Cota' em 'AdminCustomerCompany'. Veja Kernel/Config.pm.quota.patch para um exemplo. Obrigado por instalar o módulo Cota de Suporte.</IntroInstall>
    <BuildDate>2014-07-12 19:36:49</BuildDate>
    <BuildHost>ulab.local</BuildHost>
    <Filelist>
        <File Location="Kernel/Config.pm.quota.patch" Permission="644" Encode="Base64">LS0tIENvbmZpZy5wbS5vcmlnCTIwMTQtMDctMTEgMDI6MjI6MzcuMjUyOTYxOTgxIC0wMzAwCisrKyBDb25maWcucG0JMjAxNC0wNy0xMSAyMjo0NToyMi45MjExOTE5ODggLTAzMDAKQEAgLTc2LDYgKzc2LDQwIEBACiAgICAgIyAkU2VsZi0+e1Nlc3Npb25Vc2VDb29raWV9ID0gMDsKICAgICAjICRTZWxmLT57Q2hlY2tNWFJlY29yZH0gPSAwOwogCisgICAgIyBDdXN0b20gQ3VzdG9tZXJDb21wYW55IGZvciBTdXBwb3J0IFF1b3RhIEFkZC1vbiAgICAgIworICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMKKworICAgICRTZWxmLT57Q3VzdG9tZXJDb21wYW55fSA9IHsKKyAgICAgICAgTmFtZSAgID0+ICdEYXRhYmFzZSBCYWNrZW5kJywKKyAgICAgICAgTW9kdWxlID0+ICdLZXJuZWw6OlN5c3RlbTo6Q3VzdG9tZXJDb21wYW55OjpEQicsCisgICAgICAgIFBhcmFtcyA9PiB7CisgICAgICAgICAgICBUYWJsZSA9PiAnY3VzdG9tZXJfY29tcGFueScsCisgICAgICAgICAgICBDYXNlU2Vuc2l0aXZlID0+IDAsCisgICAgICAgIH0sCisKKyAgICAgICAgQ3VzdG9tZXJDb21wYW55S2V5ICAgICAgICAgICAgID0+ICdjdXN0b21lcl9pZCcsCisgICAgICAgIEN1c3RvbWVyQ29tcGFueVZhbGlkICAgICAgICAgICA9PiAndmFsaWRfaWQnLAorICAgICAgICBDdXN0b21lckNvbXBhbnlMaXN0RmllbGRzICAgICAgPT4gWyAnY3VzdG9tZXJfaWQnLCAnbmFtZScgXSwKKyAgICAgICAgQ3VzdG9tZXJDb21wYW55U2VhcmNoRmllbGRzICAgID0+IFsnY3VzdG9tZXJfaWQnLCAnbmFtZSddLAorICAgICAgICBDdXN0b21lckNvbXBhbnlTZWFyY2hQcmVmaXggICAgPT4gJycsCisgICAgICAgIEN1c3RvbWVyQ29tcGFueVNlYXJjaFN1ZmZpeCAgICA9PiAnKicsCisgICAgICAgIEN1c3RvbWVyQ29tcGFueVNlYXJjaExpc3RMaW1pdCA9PiAyNTAsCisgICAgICAgIENhY2hlVFRMICAgICAgICAgICAgICAgICAgICAgICA9PiA2MCAqIDYwICogMjQsICMgdXNlIDAgdG8gdHVybiBvZmYgY2FjaGUKKworICAgICAgICBNYXAgPT4gWworICAgICAgICAgICAgWyAnQ3VzdG9tZXJJRCcsICAgICAgICAgICAgICdDdXN0b21lcklEJywgJ2N1c3RvbWVyX2lkJywgMCwgMSwgJ3ZhcicsICcnLCAwIF0sCisgICAgICAgICAgICBbICdDdXN0b21lckNvbXBhbnlOYW1lJywgICAgJ0N1c3RvbWVyJywgICAnbmFtZScsICAgICAgICAxLCAxLCAndmFyJywgJycsIDAgXSwKKyAgICAgICAgICAgIFsgJ0N1c3RvbWVyQ29tcGFueVN0cmVldCcsICAnU3RyZWV0JywgICAgICdzdHJlZXQnLCAgICAgIDEsIDAsICd2YXInLCAnJywgMCBdLAorICAgICAgICAgICAgWyAnQ3VzdG9tZXJDb21wYW55WklQJywgICAgICdaaXAnLCAgICAgICAgJ3ppcCcsICAgICAgICAgMSwgMCwgJ3ZhcicsICcnLCAwIF0sCisgICAgICAgICAgICBbICdDdXN0b21lckNvbXBhbnlDaXR5JywgICAgJ0NpdHknLCAgICAgICAnY2l0eScsICAgICAgICAxLCAwLCAndmFyJywgJycsIDAgXSwKKyAgICAgICAgICAgIFsgJ0N1c3RvbWVyQ29tcGFueUNvdW50cnknLCAnQ291bnRyeScsICAgICdjb3VudHJ5JywgICAgIDEsIDAsICd2YXInLCAnJywgMCBdLAorICAgICAgICAgICAgWyAnQ3VzdG9tZXJDb21wYW55VVJMJywgICAgICdVUkwnLCAgICAgICAgJ3VybCcsICAgICAgICAgMSwgMCwgJ3ZhcicsICckRGF0YXsiQ3VzdG9tZXJDb21wYW55VVJMIn0nLCAwIF0sCisgICAgICAgICAgICBbICdDdXN0b21lckNvbXBhbnlDb21tZW50JywgJ0NvbW1lbnQnLCAgICAnY29tbWVudHMnLCAgICAxLCAwLCAndmFyJywgJycsIDAgXSwKKyAgICAgICAgICAgIFsgJ0N1c3RvbWVyQ29tcGFueVF1b3RhJywgICAnUXVvdGEnLCAgICAgICdxdW90YScsICAgICAgIDEsIDAsICdpbnQnLCAnJywgMCBdLAorICAgICAgICAgICAgWyAnVmFsaWRJRCcsICAgICAgICAgICAgICAgICdWYWxpZCcsICAgICAgJ3ZhbGlkX2lkJywgICAgMCwgMSwgJ2ludCcsICcnLCAwIF0sCisgICAgICAgIF0sCisgICAgfTsKKwogICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjCiAKICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwo=</File>
        <File Location="Kernel/Config/Files/SupportQuota.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIxLjAiIGluaXQ9IkFwcGxpY2F0aW9uIj4KICAgIDxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpPdXRwdXQ6OkZpbHRlckVsZW1lbnRQcmUjIyNPdXRwdXRGaWx0ZXJTdXBwb3J0UXVvdGEiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RGVmaW5lcyB0aGUgZmlsdGVyIHRoYXQgcHJvY2Vzc2VzIHRoZSBIVE1MIHRlbWxhdGVzIHRvIGFkZCBTdXBwb3J0IFF1b3RhIFBhbmVsIGluIFRpY2tldFpvb20gaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPlRpY2tldDwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpWaWV3Wm9vbTwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJNb2R1bGUiPktlcm5lbDo6T3V0cHV0OjpIVE1MOjpPdXRwdXRGaWx0ZXJTdXBwb3J0UXVvdGE8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlRlbXBsYXRlcyI+CiAgICAgICAgICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iQWdlbnRUaWNrZXRab29tIj4xPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICAgICAgICAgIDwvSXRlbT4KICAgICAgICAgICAgPC9IYXNoPgogICAgICAgIDwvU2V0dGluZz4KICAgIDwvQ29uZmlnSXRlbT4KPC9vdHJzX2NvbmZpZz4=</File>
        <File Location="Kernel/Output/HTML/OutputFilterSupportQuota.pm" Permission="644" Encode="Base64">cGFja2FnZSBLZXJuZWw6Ok91dHB1dDo6SFRNTDo6T3V0cHV0RmlsdGVyU3VwcG9ydFF1b3RhOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7JVBhcmFtfTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0cwogICAgZm9yIG15ICROZWVkZWQgKAogICAgICAgIHF3KENvbmZpZ09iamVjdCBEQk9iamVjdCBMYXlvdXRPYmplY3QpCiAgICAgICAgKQogICAgewogICAgICAgIGlmICggISRTZWxmLT57JE5lZWRlZH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICROZWVkZWQhIiApOwogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGdldCBjdXN0b21lcl9pZAogICAgbXkgJENpZCA9ICcnOwogICAgbXkgJFNRTCA9ICJTRUxFQ1QgY3VzdG9tZXJfaWQgRlJPTSB0aWNrZXQgV0hFUkUgaWQgPSAnIiAuICRTZWxmLT57VGlja2V0SUR9IC4gIiciOwogICAgJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoU1FMID0+ICRTUUwsIExpbWl0ID0+IDEpOwogICAgd2hpbGUgKG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpKSB7CiAgICAgICRDaWQgPSAkUm93WzBdOwogICAgfQoKICAgICMgZ2V0IGNvbnRyYWN0IHF1b3RhCiAgICBteSAkQ3F1b3RhID0gJyc7CiAgICAkU1FMID0gIlNFTEVDVCBxdW90YSBGUk9NIGN1c3RvbWVyX2NvbXBhbnkgV0hFUkUgY3VzdG9tZXJfaWQgPSAnIiAuICRDaWQgLiAiJyI7CiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZShTUUwgPT4gJFNRTCwgTGltaXQgPT4gMSk7CiAgICB3aGlsZSAobXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkpIHsKICAgICAgJENxdW90YSA9ICRSb3dbMF07CiAgICB9CgogICAgIyBnZXQgdXNlZCBxdW90YSBmb3IgdGhlIGFjY291bnRpbmcgcGVyaW9kIChjdXJyZW50IG1vbnRoKQogICAgbXkgJFVxdW90YSA9ICcnOwogICAgJFNRTCA9ICIKICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgc3VtKHRhLnRpbWVfdW5pdCkKICAgICAgICBGUk9NIHRpY2tldCB0CiAgICAgICAgICAgIGxlZnQgam9pbiB0aW1lX2FjY291bnRpbmcgdGEgb24gdGEudGlja2V0X2lkPXQuaWQKICAgICAgICBXSEVSRQogICAgICAgICAgICB0YS50aW1lX3VuaXQgSVMgTk9UIE5VTEwKICAgICAgICAgICAgQU5EIHQuY3VzdG9tZXJfaWQ9JyIgLiAkQ2lkIC4gIicKICAgICAgICAgICAgQU5EIHllYXIodC5jcmVhdGVfdGltZSkgPSB5ZWFyKG5vdygpKQogICAgICAgICAgICBBTkQgbW9udGgodC5jcmVhdGVfdGltZSkgPSBtb250aChub3coKSkKICAgICAgICBHUk9VUCBCWQogICAgICAgICAgdC5jdXN0b21lcl9pZCI7CiAgICAkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZShTUUwgPT4gJFNRTCwgTGltaXQgPT4gMSk7CiAgICB3aGlsZSAobXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkpIHsKICAgICAgJFVxdW90YSA9ICRSb3dbMF07CiAgICB9CgogICAgIyBmb3JtYXQgYW5kIGNhbGN1bGF0ZSByZW1haW5pbmcgZGF0YQogICAgbXkgJENvbnRyYWN0UXVvdGEgPSBzcHJpbnRmICclLjFmJywgJENxdW90YTsKICAgIG15ICRVc2VkUXVvdGEgPSAgc3ByaW50ZiAnJS4xZicsICRVcXVvdGE7CiAgICBteSAkQXZhaWxhYmxlUXVvdGEgPSBzcHJpbnRmICclLjFmJywgJENxdW90YSAtICRVcXVvdGE7CgogICAgbXkgJEhUTUwgPSAnCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJIZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoMj5Db3RhIGRlIFN1cG9ydGUgZG8gQ2xpZW50ZTwvaDI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzcz0iVGFibGVMaWtlIEZpeGVkTGFiZWxTbWFsbCBOYXJyb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RGlzcG9uJmlhY3V0ZTt2ZWw6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9IlZhbHVlIj4nIC4gJEF2YWlsYWJsZVF1b3RhIC4gJzwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+VXRpbGl6YWRvOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJWYWx1ZSI+JyAuICRVc2VkUXVvdGEgLiAnPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Db250cmF0YWRvOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJWYWx1ZSI+JyAuICRDb250cmFjdFF1b3RhIC4gJzwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAnOwoKICAgICMgYWRkIGluZm9ybWF0aW9uCiAgICAkeyAkUGFyYW17RGF0YX0gfSA9fiBzewogICAgICAgICg8XCEtLVxzZHRsOmJsb2NrOkN1c3RvbWVyVGFibGVccy0tPikKICAgIH0KICAgIHsKICAgICAgICAkSFRNTCAkMQogICAgfXN4aW07CgogICAgcmV0dXJuICRQYXJhbXtEYXRhfTsKfQoKMTs=</File>
        <File Location="scripts/database/update/quota-alter.sql" Permission="644" Encode="Base64">IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgIGFsdGVyIHRhYmxlIGN1c3RvbWVyX2NvbXBhbnkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCkFMVEVSIFRBQkxFIGN1c3RvbWVyX2NvbXBhbnkgQUREIHF1b3RhIFNNQUxMSU5UOw==</File>
    </Filelist>
    <DatabaseInstall Type="pre">
        <TableAlter Type="pre" Name="customer_company">
            <ColumnAdd Name="quota" Type="smallint"></ColumnAdd>
        </TableAlter>
    </DatabaseInstall>
    <DatabaseUninstall>
        <TableAlter Type="post" Name="customer_company">
            <ColumnDrop Name="quota"></ColumnDrop>
        </TableAlter>
    </DatabaseUninstall>
</otrs_package>